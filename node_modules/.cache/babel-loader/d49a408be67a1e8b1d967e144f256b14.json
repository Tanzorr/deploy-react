{"ast":null,"code":"import React,{useEffect,lazy,Suspense}from'react';import{BrowserRouter,Route,Redirect}from\"react-router-dom\";import'./App.css';import Header from\"./components/header/header.component\";import{selectCurrentUser}from\"./redux/user/user.selector.\";import{connect}from\"react-redux\";import{checkUserSession as _checkUserSession}from\"./redux/user/user.actions\";import{createStructuredSelector}from\"reselect\";import SignInAndSignUpPage from\"./pages/sign-in-and-sign-up/sign-in-and-sign-up.component\";import{GlobalStyle}from\"./global.styles\";import Spinner from\"./components/spiner/spiner.component\";var HomePage=lazy(function(){return import('./pages/homepage/homepage.component');});var ShopPage=lazy(function(){return import('./pages/shop/shop.page.component');});//const SignInAndSignUpPage = lazy(()=>import('./pages/sign-in-and-sign-up/sign-in-and-sign-up.component'))\nvar CheckotPage=lazy(function(){return import('./pages/checkout/checkout.component');});var App=function App(_ref){var checkUserSession=_ref.checkUserSession,currentUser=_ref.currentUser;var unsubscribeFromAuth=null;useEffect(function(){checkUserSession();},[checkUserSession]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(GlobalStyle,null),/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Suspense,{fallback:Spinner},/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",component:HomePage}),/*#__PURE__*/React.createElement(Route,{path:\"/shop\",component:ShopPage}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/checkout\",component:CheckotPage}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/signin\",render:function render(){return currentUser?/*#__PURE__*/React.createElement(Redirect,{to:\"/\"}):/*#__PURE__*/React.createElement(SignInAndSignUpPage,null);}})));};var mapStateToProps=createStructuredSelector({currentUser:selectCurrentUser});var mapDispatchToProps=function mapDispatchToProps(dispatch){return{checkUserSession:function checkUserSession(){return dispatch(_checkUserSession());}};};export default connect(mapStateToProps,mapDispatchToProps)(App);","map":{"version":3,"sources":["/home/alexx84/Desktop/react/crwn2/src/App.js"],"names":["React","useEffect","lazy","Suspense","BrowserRouter","Route","Redirect","Header","selectCurrentUser","connect","checkUserSession","createStructuredSelector","SignInAndSignUpPage","GlobalStyle","Spinner","HomePage","ShopPage","CheckotPage","App","currentUser","unsubscribeFromAuth","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAyBC,IAAzB,CAA+BC,QAA/B,KAA8C,OAA9C,CACA,OAAQC,aAAR,CAAuBC,KAAvB,CAA8BC,QAA9B,KAA6C,kBAA7C,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,sCAAnB,CACA,OAAQC,iBAAR,KAAgC,6BAAhC,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,gBAAgB,GAAhBA,CAAAA,iBAAR,KAA+B,2BAA/B,CACA,OAAQC,wBAAR,KAAuC,UAAvC,CACA,MAAOC,CAAAA,mBAAP,KAAgC,2DAAhC,CACA,OAAQC,WAAR,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,OAAP,KAAoB,sCAApB,CACA,GAAMC,CAAAA,QAAQ,CAAEb,IAAI,CAAC,iBAAI,QAAO,qCAAP,CAAJ,EAAD,CAApB,CACA,GAAMc,CAAAA,QAAQ,CAAGd,IAAI,CAAC,iBAAI,QAAO,kCAAP,CAAJ,EAAD,CAArB,CACA;AACA,GAAMe,CAAAA,WAAW,CAAGf,IAAI,CAAC,iBAAI,QAAO,qCAAP,CAAJ,EAAD,CAAxB,CAGA,GAAMgB,CAAAA,GAAG,CAAE,QAALA,CAAAA,GAAK,MAAkC,IAAhCR,CAAAA,gBAAgC,MAAhCA,gBAAgC,CAAfS,WAAe,MAAfA,WAAe,CAEzC,GAAOC,CAAAA,mBAAmB,CAAG,IAA7B,CAEEnB,SAAS,CAAC,UAAI,CACVS,gBAAgB,GACnB,CAFQ,CAEP,CAACA,gBAAD,CAFO,CAAT,CAKF,mBACQ,qDACI,oBAAC,WAAD,MADJ,cAEI,oBAAC,MAAD,MAFJ,cAIQ,oBAAC,QAAD,EAAU,QAAQ,CAAEI,OAApB,eACG,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAc,IAAI,IAAlB,CAAyB,SAAS,CAAEC,QAApC,EADH,cAEG,oBAAC,KAAD,EAAQ,IAAI,QAAZ,CAAuB,SAAS,CAAEC,QAAlC,EAFH,cAGG,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,YAAjB,CAAgC,SAAS,CAAEC,WAA3C,EAHH,cAIG,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,SAAlB,CACK,MAAM,CAAE,wBAEJE,CAAAA,WAAW,cACP,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EADO,cAGR,oBAAC,mBAAD,MALC,EADb,EAJH,CAJR,CADR,CA2BH,CApCD,CAsCA,GAAME,CAAAA,eAAe,CAAGV,wBAAwB,CAAC,CAC7CQ,WAAW,CAAEX,iBADgC,CAAD,CAAhD,CAIA,GAAMc,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,QAAG,CAClCb,gBAAgB,CAAC,kCAAIa,CAAAA,QAAQ,CAACb,iBAAgB,EAAjB,CAAZ,EADiB,CAAH,EAAnC,CAOA,cAAiBD,CAAAA,OAAO,CAACY,eAAD,CAAkBC,kBAAlB,CAAP,CAA6CJ,GAA7C,CAAjB","sourcesContent":["import React,{useEffect, lazy, Suspense} from 'react';\nimport {BrowserRouter, Route, Redirect} from \"react-router-dom\";\nimport './App.css';\nimport Header from \"./components/header/header.component\";\nimport {selectCurrentUser} from \"./redux/user/user.selector.\";\nimport {connect} from \"react-redux\";\nimport {checkUserSession} from \"./redux/user/user.actions\";\nimport {createStructuredSelector} from \"reselect\";\nimport SignInAndSignUpPage from \"./pages/sign-in-and-sign-up/sign-in-and-sign-up.component\";\nimport {GlobalStyle} from \"./global.styles\";\nimport Spinner from \"./components/spiner/spiner.component\";\nconst HomePage =lazy(()=>import('./pages/homepage/homepage.component'))\nconst ShopPage = lazy(()=>import('./pages/shop/shop.page.component'))\n//const SignInAndSignUpPage = lazy(()=>import('./pages/sign-in-and-sign-up/sign-in-and-sign-up.component'))\nconst CheckotPage = lazy(()=>import('./pages/checkout/checkout.component'))\n\n\nconst App =({checkUserSession,currentUser})=>{\n\n    const  unsubscribeFromAuth = null\n\n      useEffect(()=>{\n          checkUserSession()\n      },[checkUserSession])\n\n\n    return (\n            <>\n                <GlobalStyle/>\n                <Header/>\n\n                    <Suspense fallback={Spinner}>\n                       <Route exact  path={`/`} component={HomePage}/>\n                       <Route  path={`/shop`} component={ShopPage}/>\n                       <Route exact path={`/checkout`} component={CheckotPage}/>\n                       <Route exact path='/signin'\n                            render={()=>\n\n                                currentUser?(\n                                    <Redirect to='/'/>\n                                ):(\n                                   <SignInAndSignUpPage/>\n                                )\n                            }\n                       />\n                    </Suspense>\n\n            </>\n\n        );\n\n\n\n}\n\nconst mapStateToProps = createStructuredSelector({\n    currentUser: selectCurrentUser,\n})\n\nconst mapDispatchToProps = dispatch=>({\n    checkUserSession:()=>dispatch(checkUserSession())\n})\n\n\n\n\nexport default   connect(mapStateToProps, mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}