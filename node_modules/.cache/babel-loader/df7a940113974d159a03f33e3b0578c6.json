{"ast":null,"code":"import _regeneratorRuntime from\"/home/alexx84/crwn-clothing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/alexx84/crwn-clothing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import ShopActionTypes from\"./shop.type\";import{convertCollectionsSnapshotToMap,firestore}from\"../../firebase/firebase.utils\";export var fetchCollectionsStart=function fetchCollectionsStart(){return{type:ShopActionTypes.FETCH_COLLECTIONS_START};};export var fetchCollectionsSuccess=function fetchCollectionsSuccess(collectionsMap){return{type:ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,payload:collectionsMap};};export var fetchCollectinsFailure=function fetchCollectinsFailure(errorMessage){return{type:ShopActionTypes.FETCH_COLLECTIONS_FALURE,payload:errorMessage};};export var fetchCollectionsStartAsync=function fetchCollectionsStartAsync(){return function(dispatch){var collectionRef=firestore.collection('collections');dispatch(fetchCollectionsStart());collectionRef.get().then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(snapshot){var collectionsMap;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:collectionsMap=convertCollectionsSnapshotToMap(snapshot);dispatch(fetchCollectionsSuccess(collectionsMap));case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()).catch(function(error){return dispatch(fetchCollectinsFailure(error.message));});};};","map":{"version":3,"sources":["/home/alexx84/crwn-clothing/src/redux/shop/shop.actions.js"],"names":["ShopActionTypes","convertCollectionsSnapshotToMap","firestore","fetchCollectionsStart","type","FETCH_COLLECTIONS_START","fetchCollectionsSuccess","collectionsMap","FETCH_COLLECTIONS_SUCCESS","payload","fetchCollectinsFailure","errorMessage","FETCH_COLLECTIONS_FALURE","fetchCollectionsStartAsync","dispatch","collectionRef","collection","get","then","snapshot","catch","error","message"],"mappings":"iSAAA,MAAOA,CAAAA,eAAP,KAA4B,aAA5B,CACA,OAAQC,+BAAR,CAAyCC,SAAzC,KAAyD,+BAAzD,CAEA,MAAO,IAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,SAAK,CACtCC,IAAI,CAACJ,eAAe,CAACK,uBADiB,CAAL,EAA9B,CAIP,MAAO,IAAMC,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAAAC,cAAc,QAAG,CACpDH,IAAI,CAACJ,eAAe,CAACQ,yBAD+B,CAEpDC,OAAO,CAACF,cAF4C,CAAH,EAA9C,CAKP,MAAO,IAAMG,CAAAA,sBAAsB,CAAE,QAAxBA,CAAAA,sBAAwB,CAAAC,YAAY,QAAG,CAChDP,IAAI,CAACJ,eAAe,CAACY,wBAD2B,CAEhDH,OAAO,CAACE,YAFwC,CAAH,EAA1C,CAKP,MAAO,IAAME,CAAAA,0BAA0B,CAAC,QAA3BA,CAAAA,0BAA2B,EAAI,CACxC,MAAO,UAAAC,QAAQ,CAAE,CACb,GAAMC,CAAAA,aAAa,CAAGb,SAAS,CAACc,UAAV,CAAqB,aAArB,CAAtB,CACAF,QAAQ,CAACX,qBAAqB,EAAtB,CAAR,CACAY,aAAa,CAACE,GAAd,GAAoBC,IAApB,0FAAyB,iBAAMC,QAAN,qIACfZ,cADe,CACEN,+BAA+B,CAACkB,QAAD,CADjC,CAErBL,QAAQ,CAACR,uBAAuB,CAACC,cAAD,CAAxB,CAAR,CAFqB,sDAAzB,gEAGGa,KAHH,CAGS,SAAAC,KAAK,QAAEP,CAAAA,QAAQ,CAACJ,sBAAsB,CAACW,KAAK,CAACC,OAAP,CAAvB,CAAV,EAHd,EAIH,CAPD,CAQH,CATM","sourcesContent":["import ShopActionTypes from \"./shop.type\";\nimport {convertCollectionsSnapshotToMap, firestore} from \"../../firebase/firebase.utils\";\n\nexport const fetchCollectionsStart = ()=>({\n    type:ShopActionTypes.FETCH_COLLECTIONS_START,\n})\n\nexport const fetchCollectionsSuccess = collectionsMap=>({\n    type:ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,\n    payload:collectionsMap\n})\n\nexport const fetchCollectinsFailure= errorMessage=>({\n    type:ShopActionTypes.FETCH_COLLECTIONS_FALURE,\n    payload:errorMessage\n})\n\nexport const fetchCollectionsStartAsync=()=>{\n    return dispatch=>{\n        const collectionRef = firestore.collection('collections')\n        dispatch(fetchCollectionsStart())\n        collectionRef.get().then(async snapshot=>{\n            const collectionsMap = convertCollectionsSnapshotToMap(snapshot)\n            dispatch(fetchCollectionsSuccess(collectionsMap))\n        }).catch(error=>dispatch(fetchCollectinsFailure(error.message)))\n    }\n}"]},"metadata":{},"sourceType":"module"}