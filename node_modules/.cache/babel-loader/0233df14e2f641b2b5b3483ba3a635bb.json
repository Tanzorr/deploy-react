{"ast":null,"code":"import { takeLatest, call, put, all } from 'redux-saga/effects';\nimport ShopActionTypes from \"./shop.type\";\nimport { convertCollectionsSnapshotToMap, firestore } from \"../../firebase/firebase.utils\";\nimport { fetchCollectinsFailure, fetchCollectionsStart, fetchCollectionsSuccess } from \"./shop.actions\";\nexport function* fetchColletctionsAsync() {\n  try {\n    const collectionRef = firestore.collection('collections');\n    const snapshot = yield collectionRef.get();\n    const collectionsMap = yield call(convertCollectionsSnapshotToMap, snapshot);\n    yield put(fetchCollectionsSuccess(collectionsMap));\n  } catch (error) {\n    yield put(fetchCollectinsFailure(error.message));\n  }\n}\nexport function* fetchCollectinsStart() {\n  yield takeLatest(ShopActionTypes.FETCH_COLLECTIONS_START, fetchColletctionsAsync);\n}\nexport function* shopSagas() {\n  yield all([call(fetchCollectinsStart)]);\n}","map":{"version":3,"sources":["/home/alexx84/crwn-clothing/src/redux/shop/shop.sagas.js"],"names":["takeLatest","call","put","all","ShopActionTypes","convertCollectionsSnapshotToMap","firestore","fetchCollectinsFailure","fetchCollectionsStart","fetchCollectionsSuccess","fetchColletctionsAsync","collectionRef","collection","snapshot","get","collectionsMap","error","message","fetchCollectinsStart","FETCH_COLLECTIONS_START","shopSagas"],"mappings":"AAAA,SAAQA,UAAR,EAAmBC,IAAnB,EAAwBC,GAAxB,EAA4BC,GAA5B,QAAsC,oBAAtC;AAEA,OAAOC,eAAP,MAA4B,aAA5B;AACA,SAAQC,+BAAR,EAAyCC,SAAzC,QAAyD,+BAAzD;AACA,SAAQC,sBAAR,EAAgCC,qBAAhC,EAAuDC,uBAAvD,QAAqF,gBAArF;AAEA,OAAO,UAAUC,sBAAV,GAAmC;AACtC,MAAI;AACA,UAAMC,aAAa,GAAGL,SAAS,CAACM,UAAV,CAAqB,aAArB,CAAtB;AACA,UAAMC,QAAQ,GAAG,MAAMF,aAAa,CAACG,GAAd,EAAvB;AACA,UAAMC,cAAc,GAAG,MAAMd,IAAI,CAACI,+BAAD,EAAiCQ,QAAjC,CAAjC;AACA,UAAMX,GAAG,CAACO,uBAAuB,CAACM,cAAD,CAAxB,CAAT;AACH,GALD,CAKC,OAAOC,KAAP,EAAc;AACX,UAAMd,GAAG,CAACK,sBAAsB,CAACS,KAAK,CAACC,OAAP,CAAvB,CAAT;AACH;AAEJ;AAED,OAAO,UAAUC,oBAAV,GAAiC;AACpC,QAAOlB,UAAU,CAACI,eAAe,CAACe,uBAAjB,EACbT,sBADa,CAAjB;AAEH;AAED,OAAO,UAAUU,SAAV,GAAsB;AACzB,QAAMjB,GAAG,CAAC,CAACF,IAAI,CAACiB,oBAAD,CAAL,CAAD,CAAT;AACH","sourcesContent":["import {takeLatest,call,put,all} from 'redux-saga/effects'\n\nimport ShopActionTypes from \"./shop.type\";\nimport {convertCollectionsSnapshotToMap, firestore} from \"../../firebase/firebase.utils\";\nimport {fetchCollectinsFailure, fetchCollectionsStart, fetchCollectionsSuccess} from \"./shop.actions\";\n\nexport function* fetchColletctionsAsync() {\n    try {\n        const collectionRef = firestore.collection('collections')\n        const snapshot = yield collectionRef.get()\n        const collectionsMap = yield call(convertCollectionsSnapshotToMap,snapshot)\n        yield put(fetchCollectionsSuccess(collectionsMap))\n    }catch (error) {\n        yield put(fetchCollectinsFailure(error.message))\n    }\n\n}\n\nexport function* fetchCollectinsStart() {\n    yield  takeLatest(ShopActionTypes.FETCH_COLLECTIONS_START,\n        fetchColletctionsAsync)\n}\n\nexport function* shopSagas() {\n    yield all([call(fetchCollectinsStart)])\n}"]},"metadata":{},"sourceType":"module"}